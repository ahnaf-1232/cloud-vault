"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[738],{3752:function(e,t,a){a.d(t,{$:function(){return g}});var r=a(7437),s=a(2265),n=a(2869),l=a(5974),o=a(3578),i=a(4190),d=a(7099),c=a(1817),f=a(9658),u=a(7782),m=a(2208),p=a(2735),x=a(8930),h=a(7648);function g(e){let{files:t,loading:a,onDelete:g,onDownload:y}=e,[j,b]=(0,s.useState)(!1),[w,N]=(0,s.useState)(null),v=e=>{if(0===e)return"0 Bytes";let t=Math.floor(Math.log(e)/Math.log(1024));return Number.parseFloat((e/Math.pow(1024,t)).toFixed(2))+" "+["Bytes","KB","MB","GB"][t]},R=e=>new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),k=e=>e.includes("image")?"bg-green-100 text-green-800":e.includes("video")?"bg-purple-100 text-purple-800":e.includes("audio")?"bg-blue-100 text-blue-800":e.includes("pdf")?"bg-red-100 text-red-800":e.includes("text")||e.includes("document")?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-800",T=e=>{N(e),b(!0)};return a?(0,r.jsx)("div",{className:"flex items-center justify-center py-8",children:(0,r.jsx)(c.Z,{className:"h-8 w-8 animate-spin"})}):0===t.length?(0,r.jsxs)("div",{className:"text-center py-8",children:[(0,r.jsx)(f.Z,{className:"mx-auto h-12 w-12 text-muted-foreground mb-4"}),(0,r.jsx)("h3",{className:"text-lg font-medium mb-2",children:"No files found"}),(0,r.jsx)("p",{className:"text-muted-foreground",children:"Upload some files to get started"})]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(o.iA,{children:[(0,r.jsx)(o.xD,{children:(0,r.jsxs)(o.SC,{children:[(0,r.jsx)(o.ss,{children:"Name"}),(0,r.jsx)(o.ss,{children:"Type"}),(0,r.jsx)(o.ss,{children:"Size"}),(0,r.jsx)(o.ss,{children:"Uploaded"}),(0,r.jsx)(o.ss,{className:"w-[100px]",children:"Actions"})]})}),(0,r.jsx)(o.RM,{children:t.map((e,t)=>{var a;return(0,r.jsxs)(o.SC,{children:["  ",(0,r.jsx)(o.pj,{className:"font-medium",children:(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsx)(f.Z,{className:"h-4 w-4 text-muted-foreground"}),(0,r.jsx)("span",{className:"truncate max-w-[200px]",children:e.name})]})}),(0,r.jsx)(o.pj,{children:(0,r.jsx)(l.C,{variant:"secondary",className:k(e.type),children:(null===(a=e.type.split("/")[1])||void 0===a?void 0:a.toUpperCase())||"FILE"})}),(0,r.jsx)(o.pj,{children:v(e.size)}),(0,r.jsx)(o.pj,{children:R(e.createdAt)}),(0,r.jsx)(o.pj,{children:(0,r.jsxs)(i.h_,{children:[(0,r.jsx)(i.$F,{asChild:!0,children:(0,r.jsx)(n.z,{variant:"ghost",className:"h-8 w-8 p-0",children:(0,r.jsx)(u.Z,{className:"h-4 w-4"})})}),(0,r.jsxs)(i.AW,{align:"end",children:[(0,r.jsx)(i.Xi,{asChild:!0,children:(0,r.jsxs)(h.default,{href:"/files/".concat(e._id),children:[(0,r.jsx)(m.Z,{className:"mr-2 h-4 w-4"}),"View Details"]})}),(0,r.jsxs)(i.Xi,{onClick:()=>y(e._id,e.name),children:[(0,r.jsx)(p.Z,{className:"mr-2 h-4 w-4"}),"Download"]}),(0,r.jsxs)(i.Xi,{onClick:()=>T(e._id),className:"text-red-600",children:[(0,r.jsx)(x.Z,{className:"mr-2 h-4 w-4"}),"Delete"]})]})]})})]},"".concat(e._id,"-").concat(t))})})]}),(0,r.jsx)(d.aR,{open:j,onOpenChange:b,children:(0,r.jsxs)(d._T,{children:[(0,r.jsxs)(d.fY,{children:[(0,r.jsx)(d.f$,{children:"Are you sure?"}),(0,r.jsx)(d.yT,{children:"This action cannot be undone. This will permanently delete the file from your storage."})]}),(0,r.jsxs)(d.xo,{children:[(0,r.jsx)(d.le,{children:"Cancel"}),(0,r.jsx)(d.OL,{onClick:()=>{w&&(g(w),N(null)),b(!1)},className:"bg-red-600 hover:bg-red-700",children:"Delete"})]})]})})]})}},7099:function(e,t,a){a.d(t,{OL:function(){return g},_T:function(){return u},aR:function(){return i},f$:function(){return x},fY:function(){return m},le:function(){return y},vW:function(){return d},xo:function(){return p},yT:function(){return h}});var r=a(7437),s=a(2265),n=a(394),l=a(4508),o=a(2869);let i=n.fC,d=n.xz,c=n.h_,f=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)(n.aV,{className:(0,l.cn)("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",a),...s,ref:t})});f.displayName=n.aV.displayName;let u=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsxs)(c,{children:[(0,r.jsx)(f,{}),(0,r.jsx)(n.VY,{ref:t,className:(0,l.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",a),...s})]})});u.displayName=n.VY.displayName;let m=e=>{let{className:t,...a}=e;return(0,r.jsx)("div",{className:(0,l.cn)("flex flex-col space-y-2 text-center sm:text-left",t),...a})};m.displayName="AlertDialogHeader";let p=e=>{let{className:t,...a}=e;return(0,r.jsx)("div",{className:(0,l.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...a})};p.displayName="AlertDialogFooter";let x=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)(n.Dx,{ref:t,className:(0,l.cn)("text-lg font-semibold",a),...s})});x.displayName=n.Dx.displayName;let h=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)(n.dk,{ref:t,className:(0,l.cn)("text-sm text-muted-foreground",a),...s})});h.displayName=n.dk.displayName;let g=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)(n.aU,{ref:t,className:(0,l.cn)((0,o.d)(),a),...s})});g.displayName=n.aU.displayName;let y=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)(n.$j,{ref:t,className:(0,l.cn)((0,o.d)({variant:"outline"}),"mt-2 sm:mt-0",a),...s})});y.displayName=n.$j.displayName},5974:function(e,t,a){a.d(t,{C:function(){return o}});var r=a(7437),s=a(535),n=a(4508);let l=(0,s.j)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function o(e){let{className:t,variant:a,...s}=e;return(0,r.jsx)("div",{className:(0,n.cn)(l({variant:a}),t),...s})}},5186:function(e,t,a){a.d(t,{I:function(){return l}});var r=a(7437),s=a(2265),n=a(4508);let l=s.forwardRef((e,t)=>{let{className:a,type:s,...l}=e;return(0,r.jsx)("input",{type:s,className:(0,n.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",a),ref:t,...l})});l.displayName="Input"},3647:function(e,t,a){a.d(t,{Bw:function(){return x},Ph:function(){return c},Ql:function(){return h},i4:function(){return u},ki:function(){return f}});var r=a(7437),s=a(2265),n=a(2542),l=a(875),o=a(2135),i=a(401),d=a(4508);let c=n.fC;n.ZA;let f=n.B4,u=s.forwardRef((e,t)=>{let{className:a,children:s,...o}=e;return(0,r.jsxs)(n.xz,{ref:t,className:(0,d.cn)("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",a),...o,children:[s,(0,r.jsx)(n.JO,{asChild:!0,children:(0,r.jsx)(l.Z,{className:"h-4 w-4 opacity-50"})})]})});u.displayName=n.xz.displayName;let m=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)(n.u_,{ref:t,className:(0,d.cn)("flex cursor-default items-center justify-center py-1",a),...s,children:(0,r.jsx)(o.Z,{className:"h-4 w-4"})})});m.displayName=n.u_.displayName;let p=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)(n.$G,{ref:t,className:(0,d.cn)("flex cursor-default items-center justify-center py-1",a),...s,children:(0,r.jsx)(l.Z,{className:"h-4 w-4"})})});p.displayName=n.$G.displayName;let x=s.forwardRef((e,t)=>{let{className:a,children:s,position:l="popper",...o}=e;return(0,r.jsx)(n.h_,{children:(0,r.jsxs)(n.VY,{ref:t,className:(0,d.cn)("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===l&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",a),position:l,...o,children:[(0,r.jsx)(m,{}),(0,r.jsx)(n.l_,{className:(0,d.cn)("p-1","popper"===l&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:s}),(0,r.jsx)(p,{})]})})});x.displayName=n.VY.displayName,s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)(n.__,{ref:t,className:(0,d.cn)("py-1.5 pl-8 pr-2 text-sm font-semibold",a),...s})}).displayName=n.__.displayName;let h=s.forwardRef((e,t)=>{let{className:a,children:s,value:l,...o}=e;return(0,r.jsxs)(n.ck,{ref:t,className:(0,d.cn)("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",a),value:l,...o,children:[(0,r.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,r.jsx)(n.wU,{children:(0,r.jsx)(i.Z,{className:"h-4 w-4"})})}),(0,r.jsx)(n.eT,{children:s})]})});h.displayName=n.ck.displayName,s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)(n.Z0,{ref:t,className:(0,d.cn)("-mx-1 my-1 h-px bg-muted",a),...s})}).displayName=n.Z0.displayName},3578:function(e,t,a){a.d(t,{RM:function(){return i},SC:function(){return d},iA:function(){return l},pj:function(){return f},ss:function(){return c},xD:function(){return o}});var r=a(7437),s=a(2265),n=a(4508);let l=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)("div",{className:"relative w-full overflow-auto",children:(0,r.jsx)("table",{ref:t,className:(0,n.cn)("w-full caption-bottom text-sm",a),...s})})});l.displayName="Table";let o=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)("thead",{ref:t,className:(0,n.cn)("[&_tr]:border-b",a),...s})});o.displayName="TableHeader";let i=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)("tbody",{ref:t,className:(0,n.cn)("[&_tr:last-child]:border-0",a),...s})});i.displayName="TableBody",s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)("tfoot",{ref:t,className:(0,n.cn)("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",a),...s})}).displayName="TableFooter";let d=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)("tr",{ref:t,className:(0,n.cn)("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",a),...s})});d.displayName="TableRow";let c=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)("th",{ref:t,className:(0,n.cn)("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",a),...s})});c.displayName="TableHead";let f=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)("td",{ref:t,className:(0,n.cn)("p-4 align-middle [&:has([role=checkbox])]:pr-0",a),...s})});f.displayName="TableCell",s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)("caption",{ref:t,className:(0,n.cn)("mt-4 text-sm text-muted-foreground",a),...s})}).displayName="TableCaption"},9737:function(e,t,a){a.d(t,{b:function(){return n}});let r="http://52.66.24.57:3000/api",s=()=>{let e=localStorage.getItem("token");return{Authorization:"Bearer ".concat(e)}},n={async uploadFile(e){let t=new FormData;t.append("file",e);let a=await fetch("".concat(r,"/files/upload"),{method:"POST",headers:s(),body:t});if(console.log(a.status),!a.ok)throw Error((await a.json().catch(()=>({message:"File upload failed"}))).message||"File upload failed");return a.json()},async getFiles(e,t){let a=new URLSearchParams;e&&a.append("query",e),(null==t?void 0:t.sortBy)&&a.append("sortBy",t.sortBy),(null==t?void 0:t.sortOrder)&&a.append("sortOrder",t.sortOrder),(null==t?void 0:t.fileTypes)&&t.fileTypes.length>0&&a.append("fileTypes",t.fileTypes.join(",")),(null==t?void 0:t.dateRange)&&a.append("dateRange",t.dateRange),(null==t?void 0:t.sizeRange)&&a.append("sizeRange",t.sizeRange),(null==t?void 0:t.page)&&a.append("page",t.page.toString()),(null==t?void 0:t.limit)&&a.append("limit",t.limit.toString());let n=await fetch("".concat(r,"/files?").concat(a),{headers:s()});if(!n.ok)throw Error("Failed to fetch files");return n.json()},async getFile(e){let t=await fetch("".concat(r,"/files/").concat(e),{headers:s()});if(!t.ok){if(404===t.status)throw Error("File not found");throw Error("Failed to fetch file")}return t.json()},async deleteFile(e){let t=await fetch("".concat(r,"/files/").concat(e),{method:"DELETE",headers:s()});if(!t.ok)throw Error((await t.json().catch(()=>({message:"Failed to delete file"}))).message||"Failed to delete file");return t.json()},async downloadFile(e){let t=await fetch("".concat(r,"/files/").concat(e,"/download"),{headers:s()});if(!t.ok)throw Error("Failed to download file");return t.blob()},async updateFile(e,t){let a=await fetch("".concat(r,"/files/").concat(e),{method:"PUT",headers:{"Content-Type":"application/json",...s()},body:JSON.stringify(t)});if(!a.ok)throw Error("Failed to update file");return a.json()},async shareFile(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=await fetch("".concat(r,"/files/").concat(e,"/share"),{method:"POST",headers:{"Content-Type":"application/json",...s()},body:JSON.stringify(t)});if(!a.ok)throw Error("Failed to share file");return a.json()},async searchFiles(e){let t=new URLSearchParams;e.query&&t.append("q",e.query),e.fileTypes&&e.fileTypes.length>0&&t.append("fileTypes",e.fileTypes.join(",")),e.dateRange&&t.append("dateRange",e.dateRange),e.sizeRange&&t.append("sizeRange",e.sizeRange),e.sortBy&&t.append("sortBy",e.sortBy),e.sortOrder&&t.append("sortOrder",e.sortOrder),e.page&&t.append("page",e.page.toString()),e.limit&&t.append("limit",e.limit.toString());let a=await fetch("".concat(r,"/files/search/user?").concat(t),{headers:s()});if(!a.ok)throw Error("Failed to search files");return a.json()},async getFilterOptions(){let e=await fetch("".concat(r,"/files/filters"),{headers:s()});if(!e.ok)throw Error("Failed to fetch filter options");return e.json()}}}}]);